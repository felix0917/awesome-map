import cesium;
<div id="cesiumContainer"></div>
<script>
  let viewer = new Cesium.Viewer("cesiumContainer", {
    animation: false,
    timeline: false,
    navigationHelpButton: false,
  });
  // 隐藏版权
  viewer._cesiumWidget._creditContainer.style.display = "none";

  let positions = [];
  for (let i = 0; i < 30000; i++) {
    let lng_rd = Math.random() * 3;
    let lat_rd = Math.random() * 3;

    let lng = 122.62212856396198 + lng_rd;
    let lat = 23.928205954958536 + lat_rd;

    positions.push([lng, lat]);
  }

  let instances = [];
  for (let i = 0; i < positions.length; i++) {
    let position = Cesium.Cartesian3.fromDegrees(
      positions[i][0],
      positions[i][1],
      0.0
    ); // 定位

    let modelMatrix = new Cesium.Transforms.headingPitchRollToFixedFrame(
      position,
      new Cesium.HeadingPitchRoll(0, 0, 0)
    ); // 旋转

    Cesium.Matrix4.multiplyByUniformScale(modelMatrix, 1000.0, modelMatrix); // 缩放
    instances.push({
      modelMatrix: modelMatrix,
    });
  }

  let collection = viewer.scene.primitives.add(
    new Cesium.ModelInstanceCollection({
      url: "../sandcastle/data/model/",
      instances: instances,
    })
  );

  viewer.camera.setView({
    destination: new Cesium.Cartesian3(
      -3581707.5705740675,
      5489651.283638337,
      3086389.6455541155
    ),
    orientation: {
      heading: 6.283185307179586,
      pitch: -1.56980745058019,
      roll: 0.0,
    },
  });
</script>
<style>
  #cesiumContainer {
    width: 100%;
    height: 100%;
    overflow: hidden;
  }
</style>
